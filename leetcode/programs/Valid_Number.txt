package main

import (
	"fmt"
	"strings"
)

func isNumber(s string) bool {
	s = strings.TrimSpace(s)
	
	if len(s) == 0 {
		return false
	}
	
	idx := 0
	
	// Parse optional sign
	if idx < len(s) && (s[idx] == '+' || s[idx] == '-') {
		idx++
	}
	
	// Must have at least one digit or dot after sign
	if idx >= len(s) {
		return false
	}
	
	// Parse number part (integer or decimal)
	hasDigitsBeforeDot := false
	hasDigitsAfterDot := false
	hasDot := false
	
	// Parse digits before dot
	for idx < len(s) && s[idx] >= '0' && s[idx] <= '9' {
		hasDigitsBeforeDot = true
		idx++
	}
	
	// Parse optional dot and digits after dot
	if idx < len(s) && s[idx] == '.' {
		if hasDot {
			return false
		}
		hasDot = true
		idx++
		
		for idx < len(s) && s[idx] >= '0' && s[idx] <= '9' {
			hasDigitsAfterDot = true
			idx++
		}
	}
	
	// Must have at least one digit either before or after dot
	if !hasDigitsBeforeDot && !hasDigitsAfterDot {
		return false
	}
	
	// Parse optional exponent
	if idx < len(s) && (s[idx] == 'e' || s[idx] == 'E') {
		idx++
		
		// Must have something after 'e'
		if idx >= len(s) {
			return false
		}
		
		// Parse optional sign in exponent
		if s[idx] == '+' || s[idx] == '-' {
			idx++
		}
		
		// Must have at least one digit in exponent
		if idx >= len(s) || s[idx] < '0' || s[idx] > '9' {
			return false
		}
		
		// Parse digits in exponent
		for idx < len(s) && s[idx] >= '0' && s[idx] <= '9' {
			idx++
		}
	}
	
	// Must have consumed entire string
	return idx == len(s)
}

func main() {
	testCases := []struct {
		input    string
		expected bool
	}{
		{"2", true},
		{"0089", true},
		{"-0.1", true},
		{"+3.14", true},
		{"4.", true},
		{"-.9", true},
		{"2e10", true},
		{"-90E3", true},
		{"3e+7", true},
		{"+6e-1", true},
		{"53.5e93", true},
		{"-123.456e789", true},
		{"abc", false},
		{"1a", false},
		{"1e", false},
		{"e3", false},
		{"99e2.5", false},
		{"--6", false},
		{"-+3", false},
		{"95a54e53", false},
		{"0", true},
		{"e", false},
		{".", false},
		{" 0.1 ", true},
		{"", false},
		{"+", false},
		{"-", false},
		{".5", true},
		{"5.", true},
		{"2e+10", true},
	}
	
	passed := 0
	failed := 0
	
	for _, tc := range testCases {
		result := isNumber(tc.input)
		status := "✓"
		if result != tc.expected {
			status = "✗"
			failed++
		} else {
			passed++
		}
		fmt.Printf("%s isNumber(\"%s\") = %v (expected %v)\n", status, tc.input, result, tc.expected)
	}
	
	fmt.Printf("\nPassed: %d, Failed: %d\n", passed, failed)
}