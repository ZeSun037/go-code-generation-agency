实现一个支持事务与动态扩容的内存映射数据库

设计并实现一个简化版本的内存映射数据库系统，包含以下功能：

功能要求
1. 支持事务机制

数据库需要支持两类事务：

只读事务：允许多个同时存在，创建时应读取数据库的当前元数据。

读写事务：同一时间只能有一个，且它可能修改数据库文件结构与大小。

事务结束时应正确清理并从数据库的事务列表中移除。

2. 基于 mmap 的文件访问

数据库文件通过内存映射（mmap）方式访问。

要求支持：

将整个数据库文件映射到内存，并允许读写事务向文件中写入数据。

当写事务使数据库文件变大时，需要 重新映射（remap） 以更新 mmap 区域。

3. remap 时的正确行为

当数据库执行 remap 时，必须满足：

remap 应等待所有正在使用旧映射区域的事务完成；

执行 remap 后，新事务应使用新的映射区域；

remap 期间不应导致系统进入无法继续执行的状态。

4. 数据库元数据管理

数据库包含两份元数据（meta pages）。每个事务在开始时需读取 meta 信息（如页大小、可用空间等）。

数据库应提供：

初始化 meta 信息

在读写事务提交时更新 meta 信息

在 remap 或数据库扩容后保持 meta 信息的一致性

5. 事务跟踪

数据库内部应维护当前所有活跃事务的列表，用于：

在 remap 时判断是否可以重新映射

在事务结束时进行正确清理
